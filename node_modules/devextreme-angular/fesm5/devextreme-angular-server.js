import { __decorate, __param, __metadata } from 'tslib';
import { Inject, PLATFORM_ID, NgModule } from '@angular/core';
import { isPlatformServer } from '@angular/common';
import infernoRenderer from 'devextreme/core/inferno_renderer';
import { renderToString } from 'inferno-server';

/*!
 * devextreme-angular
 * Version: 21.2.15
 * Build date: Tue Dec 12 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-angular
 */
var DxServerModule = /** @class */ (function () {
    function DxServerModule(platformId) {
        if (isPlatformServer(platformId)) {
            infernoRenderer.inject({
                render: function (component, props, container) {
                    var el = infernoRenderer.createElement(component, props);
                    var document = container.ownerDocument;
                    var temp = document.createElement(container.tagName);
                    temp.innerHTML = renderToString(el);
                    var mainElement = temp.childNodes[0];
                    var childString = mainElement.innerHTML;
                    for (var i = 0; i < mainElement.attributes.length; i++) {
                        temp.setAttribute(mainElement.attributes[i].name, mainElement.attributes[i].value);
                    }
                    temp.innerHTML = childString;
                    container.outerHTML = temp.outerHTML;
                }
            });
        }
    }
    DxServerModule.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }
    ]; };
    DxServerModule = __decorate([
        NgModule({
            exports: [],
            imports: [],
            providers: []
        }),
        __param(0, Inject(PLATFORM_ID)),
        __metadata("design:paramtypes", [Object])
    ], DxServerModule);
    return DxServerModule;
}());

/*!
 * devextreme-angular
 * Version: 21.2.15
 * Build date: Tue Dec 12 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-angular
 */

/**
 * Generated bundle index. Do not edit.
 */

export { DxServerModule };
//# sourceMappingURL=devextreme-angular-server.js.map
